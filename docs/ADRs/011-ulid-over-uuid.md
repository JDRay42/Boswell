# ADR-011: UUIDv7 for Claim Identifiers

## Status

Superseded — original decision was ULID; revised to UUIDv7. See Rationale below.

## Context

Claims need globally unique identifiers that can be generated by any agent independently (no central coordination) and support efficient temporal queries.

The original decision (ULID) and the revised decision (UUIDv7) share the same structural properties: both are 128-bit identifiers with a millisecond-precision timestamp in the leading bits, enabling time-sorted lexicographic ordering and range-scan temporal queries without a secondary index.

## Decision

**UUIDv7 (RFC 9562)** over ULID.

## Rationale for Revision

The properties that made ULID attractive — time-sortable 128-bit identifiers generatable without coordination — are fully shared by UUIDv7. The revision was motivated by alignment with the SemanticWeft protocol, which independently adopted UUIDv7 for the same reasons.

Choosing UUIDv7 over ULID at this point yields:

- **Cross-project ID interoperability.** Claim IDs and SemanticUnit IDs are now the same format. When a Boswell claim is derived from or references a SemanticWeft unit, both IDs are in the same namespace and format.
- **RFC standardization.** UUIDv7 is an IETF standard (RFC 9562, May 2024). UUIDs have broader tooling, language library, and database support than ULIDs. The `uuid` crate is a widely-used Rust primitive; `ulid` is narrower.
- **Wire format familiarity.** `xxxxxxxx-xxxx-7xxx-xxxx-xxxxxxxxxxxx` is immediately recognizable as a UUID; Crockford Base32 (`01HRQ...`) is less widely understood.

## Consequences

- **Chronologically sortable by u128 comparison.** The top 48 bits of a UUIDv7 are a Unix millisecond timestamp. `ClaimId` stores the UUID as a `u128`, so numeric and thus sort order is chronological. The "what changed since timestamp X" query remains a range scan on the primary key.
- **No coordination required.** Any agent generates UUIDv7s independently.
- **36-character string representation** (`xxxxxxxx-xxxx-7xxx-xxxx-xxxxxxxxxxxx`) vs. 26-character ULID. SQLite stores IDs as 16-byte blobs, so wire/display format length does not affect storage.
- **Rust ecosystem**: `uuid` crate v1.x with `v7` feature. Widely maintained and widely used.
